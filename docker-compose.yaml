version: "3.8"
services:
  frontend:
    container_name: frontend
    image: frontend:latest
    build: ./front
    ports:
      - "8081:80"
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.cc.rule=Host(`cc.skew.ch`)"
      - "traefik.http.routers.cc.entrypoints=websecure"
      - "traefik.http.routers.cc.tls=true"
  backend:
    container_name: backend
    image: backend:latest
    build: ./back
    ports:
      - "5000:5000"

networks:
  default:
    name: cc